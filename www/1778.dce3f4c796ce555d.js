"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1778],{1778:(W,x,l)=>{l.r(x),l.d(x,{ProfilePageModule:()=>H});var h=l(9808),p=l(3075),c=l(8058),m=l(1216),s=l(7582),_=l(7053),C=l(9061),Z=l(771),e=l(5e3),P=l(520),f=l(7705),v=l(8995);function y(o,u){if(1&o){const t=e.EpF();e.TgZ(0,"div",7)(1,"input",18),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.code=n)}),e.ALo(2,"translate"),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"\u041f\u0440\u043e\u0432\u0435\u0440\u043e\u0447\u043d\u044b\u0439 \u043a\u043e\u0434")),e.Q6J("ngModel",t.code)}}function A(o,u){if(1&o){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addContact())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442")))}function T(o,u){if(1&o){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.verifyContact())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c")))}function k(o,u){if(1&o){const t=e.EpF();e.TgZ(0,"ion-item",24),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.selectCode(r))}),e.TgZ(1,"ion-avatar",25)(2,"div",26),e._uU(3),e.qZA()(),e.TgZ(4,"ion-label")(5,"h2"),e._uU(6),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.TgZ(9,"b"),e._uU(10),e.qZA()()()()}if(2&o){const t=u.$implicit;e.xp6(3),e.hij(" ",t.flag," "),e.xp6(3),e.Oqu(t.name),e.xp6(2),e.hij("",t.code," "),e.xp6(2),e.Oqu(t.dial_code)}}function b(o,u){if(1&o){const t=e.EpF();e.TgZ(0,"ion-content",20)(1,"ion-searchbar",21),e.NdJ("ionInput",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.findPhoneCode(n))})("click",function(){e.CHM(t),e.oxw();const n=e.MAs(37);return e.KtG(n.setCurrentBreakpoint(.75))}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"ion-list",22),e.YNc(4,k,11,4,"ion-item",23),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"\u041f\u043e\u0438\u0441\u043a \u043a\u043e\u0434\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430")),e.xp6(3),e.Q6J("ngForOf",t.phonescodes)}}const M=function(){return[0,.5,.75]};let w=(()=>{class o{constructor(t,i,n,r){this.authService=t,this.modalCtrl=i,this.httpClient=n,this.modalController=r,this.flag="\u{1f1fa}\u{1f1ff}",this.mask=" (00) 000-00-00",this.prefix="+998",this.phone="",this.code="",this.telegram=!1,this.whatsapp=!1,this.viber=!1,this.verify=!1,this.country_code="UZ",this.searchinput=""}ngOnInit(){this.getJSONFromLocal().subscribe(t=>{this.phonescodesOriginal=t,this.phonescodes=this.phonescodesOriginal},t=>console.error(`Failed because: ${t}`))}getJSONFromLocal(){return this.httpClient.get("./assets/json/phone.json")}addContact(){return(0,s.mG)(this,void 0,void 0,function*(){yield this.authService.addContact(this.prefix+""+this.phone,this.telegram,this.whatsapp,this.viber).toPromise().then(t=>(0,s.mG)(this,void 0,void 0,function*(){t.status?this.verify=!0:this.authService.alert("\u041e\u0448\u0438\u0431\u043a\u0430",t.error)})).catch(t=>(0,s.mG)(this,void 0,void 0,function*(){console.log(t)}))})}verifyContact(){return(0,s.mG)(this,void 0,void 0,function*(){5===this.code.length?yield this.authService.verifyNewContact(this.prefix+""+this.phone,this.code).toPromise().then(t=>(0,s.mG)(this,void 0,void 0,function*(){t.status?(this.authService.contacts=yield this.authService.getContacts().toPromise(),yield this.authService.alert("\u041e\u0442\u043b\u0438\u0447\u043d\u043e","\u041a\u043e\u043d\u0442\u0430\u043a\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d"),yield this.modalController.dismiss()):yield this.authService.alert("\u041e\u0448\u0438\u0431\u043a\u0430",t.text)})).catch(t=>(0,s.mG)(this,void 0,void 0,function*(){console.log(t)})):yield this.authService.alert("\u041e\u0448\u0438\u0431\u043a\u0430","\u041a\u043e\u0434 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0438\u0437 5 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")})}setContactToTelegram(t,i){this.telegram=i.target.checked}setContactToWhatsapp(t,i){this.whatsapp=i.target.checked}setContactToViber(t,i){this.viber=i.target.checked}findPhoneCode(t){this.searchinput=t.target.value,this.phonescodes=this.phonescodesOriginal.filter(i=>i.name?i.name.toLowerCase().includes(this.searchinput.toLowerCase())||!i.code?i.code:i.code.toLowerCase().includes(this.searchinput.toLowerCase())||!i.dial_code?i.dial_code:i.dial_code.toLowerCase().includes(this.searchinput.toLowerCase()):i.name)}selectCode(t){this.modalCtrl.dismiss(),this.prefix=t.dial_code,this.flag=t.flag,this.mask=t.mask?t.mask:" (00) 000-00-00",this.country_code=t.code}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(_.$),e.Y36(c.IN),e.Y36(P.eN),e.Y36(c.IN))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-addcontact"]],decls:39,vars:26,consts:[[1,"wrapper-fluid-header"],[1,"logo-wrap","personal-head"],[1,"wrapper-fluid","ion-padding-tabs"],[1,"body-wrap","form-block"],[1,"autorize"],[1,"dop-contact"],[1,"dop-contact-row"],[1,"input-contact"],["id","open-modal-select-code"],["type","text","inputmode","tel",1,"form-control","newPhone",3,"readOnly","ngModel","mask","ngModelChange"],[1,"socials"],[1,"data-checkbox"],["type","checkbox",1,"checkbox",3,"checked","change"],[1,"fake-checkbox"],["class","input-contact",4,"ngIf"],["class","reg-btn ion-margin-top",3,"click",4,"ngIf"],["trigger","open-modal-select-code",1,"modal-phone-select-code",3,"initialBreakpoint","breakpoints"],["modal",""],["type","text","inputmode","tel",1,"form-control",3,"ngModel","placeholder","ngModelChange"],[1,"reg-btn","ion-margin-top",3,"click"],[1,"phone-code-select"],["slot","fixed",3,"placeholder","ionInput","click"],[1,"list-phone-code"],["lines","none",3,"click",4,"ngFor","ngForOf"],["lines","none",3,"click"],["slot","start"],[1,"flag-phone"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header")(1,"div",0)(2,"div",1)(3,"h2"),e._uU(4),e.ALo(5,"translate"),e.qZA()()()(),e.TgZ(6,"ion-content")(7,"div",2)(8,"div",3)(9,"div",4)(10,"div",5)(11,"div",6)(12,"div",7)(13,"span",8),e._uU(14),e.qZA(),e.TgZ(15,"input",9),e.NdJ("ngModelChange",function(r){return i.phone=r}),e.qZA()(),e.TgZ(16,"div",10)(17,"div",11)(18,"label")(19,"input",12),e.NdJ("change",function(r){return i.setContactToTelegram(i.phone,r)}),e.qZA(),e._UZ(20,"span",13),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"label")(24,"input",12),e.NdJ("change",function(r){return i.setContactToWhatsapp(i.phone,r)}),e.qZA(),e._UZ(25,"span",13),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"label")(29,"input",12),e.NdJ("change",function(r){return i.setContactToViber(i.phone,r)}),e.qZA(),e._UZ(30,"span",13),e._uU(31),e.ALo(32,"translate"),e.qZA()()(),e.YNc(33,y,3,4,"div",14),e.YNc(34,A,3,3,"button",15),e.YNc(35,T,3,3,"button",15),e.qZA()()()()(),e.TgZ(36,"ion-modal",16,17),e.YNc(38,b,5,4,"ng-template"),e.qZA()()),2&t&&(e.xp6(4),e.Oqu(e.lcZ(5,17,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442")),e.xp6(10),e.AsE("",i.flag," ",i.prefix,""),e.xp6(1),e.Q6J("readOnly",i.verify)("ngModel",i.phone)("mask",i.mask),e.xp6(4),e.Q6J("checked",i.telegram),e.xp6(2),e.hij(" ",e.lcZ(22,19,"\u041c\u043e\u0436\u043d\u043e \u0441\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f \u0447\u0435\u0440\u0435\u0437")," Telegram "),e.xp6(3),e.Q6J("checked",i.whatsapp),e.xp6(2),e.hij(" ",e.lcZ(27,21,"\u041c\u043e\u0436\u043d\u043e \u0441\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f \u0447\u0435\u0440\u0435\u0437")," WhatsApp "),e.xp6(3),e.Q6J("checked",i.viber),e.xp6(2),e.hij(" ",e.lcZ(32,23,"\u041c\u043e\u0436\u043d\u043e \u0441\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f \u0447\u0435\u0440\u0435\u0437")," Viber "),e.xp6(2),e.Q6J("ngIf",i.verify),e.xp6(1),e.Q6J("ngIf",!i.verify),e.xp6(1),e.Q6J("ngIf",i.verify),e.xp6(1),e.Q6J("initialBreakpoint",.5)("breakpoints",e.DdM(25,M)))},dependencies:[h.sg,h.O5,c.BJ,c.W2,c.Gu,c.Ie,c.Q$,c.q_,c.VI,c.ki,c.j9,p.Fj,p.JJ,p.On,f.hx,v.X$],styles:[".dop-contact-row[_ngcontent-%COMP%]   .input-contact[_ngcontent-%COMP%]{display:flex;width:100%}.dop-contact-row[_ngcontent-%COMP%]   .input-contact[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:80px;background:#413f4f;color:#fff;padding:10px;display:flex;flex-direction:row;align-items:center;justify-content:center;flex-wrap:nowrap;align-content:center;position:absolute;height:56px;border-radius:4px 0 0 4px;font-size:13px}.dop-contact-row[_ngcontent-%COMP%]   .input-contact[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%!important;margin-bottom:5px}.dop-contact-row[_ngcontent-%COMP%]   .input-contact[_ngcontent-%COMP%]   .newPhone[_ngcontent-%COMP%]{margin-left:70px}.dop-contact-row[_ngcontent-%COMP%]   .socials[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}"]}),o})();var O=l(849),S=l(7281),U=l(2217);function E(o,u){if(1&o){const t=e.EpF();e.TgZ(0,"ion-datetime",25,26),e.NdJ("ionChange",function(){e.CHM(t);const n=e.MAs(1),r=e.oxw(2);return e.KtG(r.selectBirthday(n.value))}),e.ALo(2,"formatTime"),e.TgZ(3,"span",27),e._uU(4),e.ALo(5,"translate"),e.qZA()()}if(2&o){const t=e.oxw(2);e.Q6J("showDefaultTitle",!0)("preferWheel",!0)("value",e.xi3(2,5,t.birthday,"YYYY-MM-DD"))("showDefaultButtons",!0),e.xp6(4),e.Oqu(e.lcZ(5,8,"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"))}}function J(o,u){if(1&o){const t=e.EpF();e.TgZ(0,"div",19)(1,"div",28),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.editTransport(r))}),e.TgZ(2,"label",29),e._uU(3),e._UZ(4,"br"),e._uU(5),e.ALo(6,"translate"),e.qZA()()()}if(2&o){const t=u.$implicit;e.xp6(3),e.hij(" ",t.name," "),e.xp6(2),e.AsE(" ",t.max_weight," ",e.lcZ(6,3,"\u043a\u0433")," ")}}function F(o,u){if(1&o){const t=e.EpF();e.TgZ(0,"div",19)(1,"div",28),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.addTransport())}),e.TgZ(2,"label",29)(3,"span",30)(4,"span"),e._uU(5,"+"),e.qZA(),e._UZ(6,"br"),e._uU(7),e.ALo(8,"translate"),e._UZ(9,"br"),e._uU(10),e.ALo(11,"translate"),e.qZA()()()()}2&o&&(e.xp6(7),e.hij("",e.lcZ(8,2,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")," "),e.xp6(3),e.hij(" ",e.lcZ(11,4,"\u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442"),""))}function D(o,u){if(1&o){const t=e.EpF();e.TgZ(0,"div",31),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.delPassportFile(r.name.toString()))}),e.TgZ(1,"div",32),e._UZ(2,"ion-icon",33),e.qZA(),e.TgZ(3,"div",34),e._UZ(4,"img",7),e.qZA()()}if(2&o){const t=u.$implicit;e.xp6(4),e.Q6J("src","https://admin.tirgo.io/api/download/"+t.filename,e.LSH)}}function G(o,u){if(1&o){const t=e.EpF();e.TgZ(0,"div",31),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.addPassportDocks())}),e.TgZ(1,"div",34)(2,"label",29)(3,"span",30)(4,"span"),e._uU(5,"+"),e.qZA(),e._UZ(6,"br"),e._uU(7),e.ALo(8,"translate"),e._UZ(9,"br"),e._uU(10),e.ALo(11,"translate"),e.qZA()()()()}2&o&&(e.xp6(7),e.hij("",e.lcZ(8,2,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")," "),e.xp6(3),e.hij(" ",e.lcZ(11,4,"\u0444\u043e\u0442\u043e \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430"),""))}function N(o,u){if(1&o){const t=e.EpF();e.TgZ(0,"div",31),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.delDriverLicenseFile(r.name.toString()))}),e.TgZ(1,"div",32),e._UZ(2,"ion-icon",33),e.qZA(),e.TgZ(3,"div",34),e._UZ(4,"img",7),e.qZA()()}if(2&o){const t=u.$implicit;e.xp6(4),e.Q6J("src",t.preview,e.LSH)}}function q(o,u){if(1&o){const t=e.EpF();e.TgZ(0,"div",28),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.addDriverLicense())}),e.TgZ(1,"label",29)(2,"span",30)(3,"span"),e._uU(4,"+"),e.qZA(),e._UZ(5,"br"),e._uU(6),e.ALo(7,"translate"),e._UZ(8,"br"),e._uU(9),e.ALo(10,"translate"),e.qZA()()()}2&o&&(e.xp6(6),e.hij("",e.lcZ(7,2,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")," "),e.xp6(3),e.hij(" ",e.lcZ(10,4,"\u043f\u0440\u0430\u0432\u0430"),""))}function L(o,u){if(1&o){const t=e.EpF();e.TgZ(0,"div",35),e._UZ(1,"input",36),e.ALo(2,"mask"),e.TgZ(3,"span",37),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.deleteContact(r))}),e._UZ(4,"ion-icon",38),e.qZA()()}if(2&o){const t=u.$implicit;e.xp6(1),e.Q6J("value",e.xi3(2,2,t.text,"+000 (00) 000 00 00")),e.xp6(2),e.Q6J("ngClass",t.text.length>0?"":"disabled-button")}}function I(o,u){if(1&o){const t=e.EpF();e.TgZ(0,"div",5)(1,"div",6),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.changeAvatar())}),e._UZ(2,"img",7),e.TgZ(3,"p"),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",8)(7,"p")(8,"b"),e._uU(9),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"input",9),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.name=n)})("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.authService.alert("\u041e\u0448\u0438\u0431\u043a\u0430","\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0438\u043c\u0435\u043d\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e"))}),e.qZA(),e.TgZ(12,"p")(13,"b"),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"input",10),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.authService.alert("\u0423\u043f\u0441","\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c"))}),e.ALo(17,"mask"),e.qZA(),e.TgZ(18,"p")(19,"b"),e._uU(20),e.ALo(21,"translate"),e.qZA()(),e.TgZ(22,"input",11),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.selectRegion())}),e.qZA(),e.TgZ(23,"p")(24,"b"),e._uU(25),e.ALo(26,"translate"),e.qZA()(),e._UZ(27,"input",12),e.ALo(28,"formatTime"),e.TgZ(29,"ion-modal",13),e.YNc(30,E,6,10,"ng-template"),e.qZA(),e.TgZ(31,"p")(32,"b"),e._uU(33),e.ALo(34,"translate"),e.qZA()(),e.TgZ(35,"div",14),e.YNc(36,J,7,5,"div",15),e.YNc(37,F,12,6,"div",16),e.qZA(),e.TgZ(38,"p")(39,"b"),e._uU(40),e.ALo(41,"translate"),e.qZA()(),e.TgZ(42,"div",14),e.YNc(43,D,5,1,"div",17),e.YNc(44,G,12,6,"div",18),e.qZA(),e.TgZ(45,"p")(46,"b"),e._uU(47),e.ALo(48,"translate"),e.qZA()(),e.TgZ(49,"div",14),e.YNc(50,N,5,1,"div",17),e.TgZ(51,"div",19),e.YNc(52,q,11,6,"div",20),e.qZA()(),e.TgZ(53,"div",21)(54,"h2"),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.TgZ(57,"div",22),e.YNc(58,L,5,5,"div",23),e.qZA(),e.TgZ(59,"button",24),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addContacts())}),e._uU(60),e.ALo(61,"translate"),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("src",t.authService.currentUser.avatar,e.LSH),e.xp6(2),e.Oqu(e.lcZ(5,24,"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u043e\u0442\u043e")),e.xp6(5),e.Oqu(e.lcZ(10,26,"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f")),e.xp6(2),e.Q6J("ngModel",t.name),e.xp6(3),e.Oqu(e.lcZ(15,28,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d")),e.xp6(2),e.Q6J("value",e.xi3(17,30,"+"+t.phone,"+ 000 (00) 000 00 00")),e.xp6(4),e.hij("",e.lcZ(21,33,"\u0412\u0430\u0448 \u0440\u0435\u0433\u0438\u043e\u043d")," "),e.xp6(2),e.Q6J("readOnly",!0)("value",t.authService.currentUser.city+", "+t.authService.currentUser.country),e.xp6(3),e.Oqu(e.lcZ(26,35,"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f")),e.xp6(2),e.Q6J("value",e.xi3(28,37,t.birthday,"DD MMMM YYYY")),e.xp6(2),e.Q6J("cssClass","bottom-end"),e.xp6(4),e.Oqu(e.lcZ(34,40,"\u041c\u043e\u0439 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442")),e.xp6(3),e.Q6J("ngForOf",t.authService.mytruck),e.xp6(1),e.Q6J("ngIf",t.authService.mytruck.length<2),e.xp6(3),e.hij("",e.lcZ(41,42,"\u041f\u0430\u0441\u043f\u043e\u0440\u0442"),":"),e.xp6(3),e.Q6J("ngForOf",t.passport_docks),e.xp6(1),e.Q6J("ngIf",t.passport_docks.length<2),e.xp6(3),e.hij("",e.lcZ(48,44,"\u0412\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0435 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u0435"),":"),e.xp6(3),e.Q6J("ngForOf",t.driver_license),e.xp6(2),e.Q6J("ngIf",t.driver_license.length<2),e.xp6(3),e.Oqu(e.lcZ(56,46,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b")),e.xp6(3),e.Q6J("ngForOf",t.authService.contacts),e.xp6(2),e.Oqu(e.lcZ(61,48,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442"))}}function B(o,u){if(1&o){const t=e.EpF();e.TgZ(0,"div",39)(1,"div",40)(2,"h2")(3,"b"),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"br"),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"button",41),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.closeModal())}),e._uU(10,"OK"),e.qZA()()()}2&o&&(e.xp6(4),e.hij("",e.lcZ(5,2,"\u0412\u0430\u0448\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b")," "),e.xp6(3),e.hij(" ",e.lcZ(8,4,"\u043d\u0430 \u043c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u044e"),""))}const Y=[{path:"",component:(()=>{class o{constructor(t,i,n,r,a,d,g,$){this.authService=t,this.loadingCtrl=i,this.storage=n,this.router=r,this.platform=a,this.actionSheetController=d,this.alertController=g,this.modalController=$,this.name="",this.phone="",this.birthday=(new Date).toISOString(),this.country="",this.city="",this.adr=0,this.selectedcartype=0,this.selectedstatus="logist",this.modalupdateuser=!1,this.number="",this.model="",this.brand="",this.phone2="",this.passport_docks=[],this.driver_license=[]}ngOnInit(){var t,i,n,r,a,d;this.name=null===(t=this.authService.currentUser)||void 0===t?void 0:t.name,this.phone=this.authService.contacts[0].text,this.birthday=new Date(null===(i=this.authService.currentUser)||void 0===i?void 0:i.birthday).toISOString(),this.country=null===(n=this.authService.currentUser)||void 0===n?void 0:n.country,this.city=null===(r=this.authService.currentUser)||void 0===r?void 0:r.city,this.adr=null===(a=this.authService.currentUser)||void 0===a?void 0:a.adr,console.log(this.authService.currentUser);for(let g of null===(d=this.authService.currentUser)||void 0===d?void 0:d.files)"passport"===g.type_file?this.passport_docks.push(g):"driver-license"===g.type_file&&this.driver_license.push(g)}selectBirthday(t){return(0,s.mG)(this,void 0,void 0,function*(){yield this.authService.setDateBirthday(t).toPromise().then(i=>(0,s.mG)(this,void 0,void 0,function*(){i.status&&(this.birthday=t)})).catch(i=>(0,s.mG)(this,void 0,void 0,function*(){console.log(i)}))})}detectEdit(){return!0}selectType(t){this.selectedstatus=t.target.value}selectNewCarType(t){this.selectedcartype=t}selectBirthDay(){}selectRegion(){return(0,s.mG)(this,void 0,void 0,function*(){yield this.authService.alert("\u041e\u0448\u0438\u0431\u043a\u0430","\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0440\u0435\u0433\u0438\u043e\u043d\u0430 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e")})}addTransport(){return(0,s.mG)(this,void 0,void 0,function*(){const t=yield this.modalController.create({component:C.i,swipeToClose:!0,showBackdrop:!0,breakpoints:[0,1],initialBreakpoint:1,presentingElement:yield this.modalController.getTop(),backdropDismiss:!0,cssClass:"modalCss",mode:"ios"});yield t.present(),yield t.onWillDismiss()})}editTransport(t){return(0,s.mG)(this,void 0,void 0,function*(){const i=yield this.actionSheetController.create({header:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0441 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u043e\u043c",cssClass:"custom-action-sheet",buttons:[{text:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",handler:()=>(0,s.mG)(this,void 0,void 0,function*(){yield i.present();const n=yield this.modalController.create({component:Z.S,swipeToClose:!0,showBackdrop:!0,breakpoints:[0,1],initialBreakpoint:1,presentingElement:yield this.modalController.getTop(),backdropDismiss:!0,cssClass:"modalCss",mode:"ios",componentProps:{item:t}});yield n.present(),yield n.onWillDismiss()})},{text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",role:"destructive",handler:()=>(0,s.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",message:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442?",cssClass:"customAlert",buttons:[{text:"\u041d\u0435\u0442",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel")}},{text:"\u0414\u0430",handler:()=>(0,s.mG)(this,void 0,void 0,function*(){yield this.authService.delTransport(t.id).toPromise().then(r=>(0,s.mG)(this,void 0,void 0,function*(){if(r.status){const a=this.authService.mytruck.findIndex(d=>d.id===t.id);a>=0&&this.authService.mytruck.splice(a,1)}})).catch(r=>(0,s.mG)(this,void 0,void 0,function*(){console.log(r)}))})}]})).present()})},{text:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",role:"cancel",cssClass:"cancel-action-sheet",handler:()=>{}}]});yield i.present()})}editUser(){this.modalupdateuser=!0}closeModal(){this.modalupdateuser=!1}closeModalBirthday(t){console.log(t)}addContacts(){return(0,s.mG)(this,void 0,void 0,function*(){const t=yield this.modalController.create({component:w,swipeToClose:!0,showBackdrop:!0,breakpoints:[0,1],initialBreakpoint:1,presentingElement:yield this.modalController.getTop(),backdropDismiss:!0,cssClass:"modalCss",mode:"ios"});yield t.present(),yield t.onWillDismiss()})}changeAvatar(){return(0,s.mG)(this,void 0,void 0,function*(){this.loading=yield this.loadingCtrl.create({message:"\u041e\u0442\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u0444\u043e\u0442\u043e",cssClass:"custom-loading"}),yield this.authService.camera.getPicture(this.authService.optionsCamera).then(t=>(0,s.mG)(this,void 0,void 0,function*(){var i;this.loading.present();const n=yield this.authService.transfer.create(),a={headers:{Authorization:"Bearer "+_.$.jwt},fileKey:"file",mimeType:"image/jpeg",chunkedMode:!1,fileName:t.substr(t.lastIndexOf("/")+1),params:{typeUser:"driver",typeImage:"avatar"}},d=JSON.parse((yield n.upload(t,this.authService.API_URL+"/users/uploadImage",a)).response);d.status&&(null===(i=this.authService.currentUser)||void 0===i||(i.avatar=d.file.preview),this.loading.dismiss())}))})}addPassportDocks(){return(0,s.mG)(this,void 0,void 0,function*(){this.loading=yield this.loadingCtrl.create({message:"\u041e\u0442\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u0444\u043e\u0442\u043e",cssClass:"custom-loading"}),yield this.authService.camera.getPicture(this.authService.optionsCamera).then(t=>(0,s.mG)(this,void 0,void 0,function*(){this.loading.present();const i=yield this.authService.transfer.create(),r={headers:{Authorization:"Bearer "+_.$.jwt},fileKey:"file",mimeType:"image/jpeg",chunkedMode:!1,fileName:t.substr(t.lastIndexOf("/")+1),params:{typeUser:"driver",typeImage:"passport"}},a=JSON.parse((yield i.upload(t,this.authService.API_URL+"/users/uploadImage",r)).response);a.status&&(this.passport_docks.push(a.file),this.loading.dismiss())}))})}addDriverLicense(){return(0,s.mG)(this,void 0,void 0,function*(){this.loading=yield this.loadingCtrl.create({message:"\u041e\u0442\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u0444\u043e\u0442\u043e",cssClass:"custom-loading"}),yield this.authService.camera.getPicture(this.authService.optionsCamera).then(t=>(0,s.mG)(this,void 0,void 0,function*(){this.loading.present();const i=yield this.authService.transfer.create(),r={headers:{Authorization:"Bearer "+_.$.jwt},fileKey:"file",mimeType:"image/jpeg",chunkedMode:!1,fileName:t.substr(t.lastIndexOf("/")+1),params:{typeUser:"driver",typeImage:"driver-license"}},a=JSON.parse((yield i.upload(t,this.authService.API_URL+"/users/uploadImage",r)).response);a.status&&(this.driver_license.push(a.file),this.loading.dismiss())}))})}logOut(){return(0,s.mG)(this,void 0,void 0,function*(){const t=yield this.alertController.create({header:"\u0412\u044b\u0445\u043e\u0434 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430?",cssClass:"customAlert",buttons:[{text:"\u041d\u0435\u0442",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"\u0412\u044b\u0439\u0442\u0438",role:"destructive",handler:()=>(0,s.mG)(this,void 0,void 0,function*(){yield t.present(),yield this.storage.clear(),yield this.authService.logout(),this.authService.typetruck=[],this.authService.typecargo=[],this.authService.mytruck=[],this.authService.contacts=[],this.authService.myorders=[],this.authService.currency=[],this.authService.activeorder=[],this.authService.notifications=[],this.authService.messages=[],yield this.router.navigate(["selectlanguage"],{replaceUrl:!0})})}]});yield t.present()})}deleteProfile(){return(0,s.mG)(this,void 0,void 0,function*(){const t=yield this.alertController.create({header:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442? \u041c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442 \u0412\u0430\u0448 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u043e \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0438 30 \u0434\u043d\u0435\u0439.",cssClass:"customAlert",buttons:[{text:"\u041d\u0435\u0442",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",role:"destructive",handler:()=>(0,s.mG)(this,void 0,void 0,function*(){yield t.present(),yield this.storage.clear(),yield this.authService.logout(),yield this.router.navigate(["selectlanguage"],{replaceUrl:!0})})}]});yield t.present()})}delPassportFile(t){return(0,s.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0444\u043e\u0442\u043e",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u043e\u0442\u043e \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430?",cssClass:"customAlert",buttons:[{text:"\u041e\u0442\u043c\u0435\u043d\u0430",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",role:"destructive",handler:n=>(0,s.mG)(this,void 0,void 0,function*(){const r=yield this.authService.delPhotoUser(t).toPromise();if(r.status){const a=this.passport_docks.findIndex(d=>d.name===t);a>=0&&this.passport_docks.splice(a,1)}else this.authService.alert("\u041e\u0448\u0438\u0431\u043a\u0430",r.error)})}]})).present()})}delDriverLicenseFile(t){return(0,s.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0444\u043e\u0442\u043e",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u043e\u0442\u043e \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430?",cssClass:"customAlert",buttons:[{text:"\u041e\u0442\u043c\u0435\u043d\u0430",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",role:"destructive",handler:n=>(0,s.mG)(this,void 0,void 0,function*(){const r=yield this.authService.delPhotoUser(t).toPromise();if(r.status){const a=this.driver_license.findIndex(d=>d.name===t);a>=0&&this.driver_license.splice(a,1)}else this.authService.alert("\u041e\u0448\u0438\u0431\u043a\u0430",r.error)})}]})).present()})}deleteContact(t){return(0,s.mG)(this,void 0,void 0,function*(){this.authService.contacts.length>1?t.id>0&&(yield(yield this.alertController.create({header:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",message:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442? \u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0439 \u043a\u043e\u043d\u0442\u0430\u043a\u0442 \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0437\u0430\u043d\u043e\u0432\u043e \u043f\u043e\u0434\u0442\u0432\u0440\u0435\u0434\u0438\u0442\u044c \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438.",cssClass:"customAlert",buttons:[{text:"\u041d\u0435\u0442",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel")}},{text:"\u0414\u0430",handler:()=>(0,s.mG)(this,void 0,void 0,function*(){yield this.authService.delContact(t.id).toPromise().then(n=>(0,s.mG)(this,void 0,void 0,function*(){if(n.status){this.phone=this.authService.contacts[0].text;const r=this.authService.contacts.findIndex(a=>a.id===t.id);r>=0&&this.authService.contacts.splice(r,1)}})).catch(n=>(0,s.mG)(this,void 0,void 0,function*(){console.log(n)}))})}]})).present()):this.authService.alert("\u041e\u0448\u0438\u0431\u043a\u0430","\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u043a\u043e\u043d\u0442\u0430\u043a\u0442")})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(_.$),e.Y36(c.HT),e.Y36(O.K),e.Y36(m.F0),e.Y36(c.t4),e.Y36(c.BX),e.Y36(c.Br),e.Y36(c.IN))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-profile"]],decls:13,vars:8,consts:[[1,"wrapper-fluid","ion-padding-tabs"],["class","body-wrap form-block",4,"ngIf"],[1,"modal-edit-user",3,"isOpen","willDismiss"],[1,"bottom-wrap","personal-bottom"],[1,"reg-btn",3,"click"],[1,"body-wrap","form-block"],[1,"user-photo",3,"click"],["alt","",3,"src"],[1,"autorize"],["type","text","name","name","placeholder","\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0412\u0430\u0448\u0435 \u0438\u043c\u044f","readonly","",3,"ngModel","ngModelChange","click"],["type","text","name","name","readonly","","placeholder","\u0412\u0430\u0448 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",3,"value","click"],["id","region","placeholder","\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0412\u0430\u0448 \u0440\u0435\u0433\u0438\u043e\u043d","readonly","","type","text","name","name",3,"readOnly","value","click"],["id","selectdate","type","text","name","name","placeholder","\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f","readonly","",3,"value"],["trigger","selectdate",3,"cssClass"],[1,"file-uploads"],["class","file-group",4,"ngFor","ngForOf"],["class","file-group",4,"ngIf"],["class","file-group",3,"click",4,"ngFor","ngForOf"],["class","file-group",3,"click",4,"ngIf"],[1,"file-group"],["class","form-group",3,"click",4,"ngIf"],[1,"dop-contact"],[1,"dop-contact-row"],["class","input-contact",4,"ngFor","ngForOf"],[1,"reg-btn","ion-margin-top",3,"click"],["presentation","date","firstDayOfWeek","1","size","cover","doneText","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","cancelText","\u041e\u0442\u043c\u0435\u043d\u0430",1,"custom-calendar",3,"showDefaultTitle","preferWheel","value","showDefaultButtons","ionChange"],["startDate",""],["slot","title",2,"color","white"],[1,"form-group",3,"click"],[1,"label"],[1,"title"],[1,"file-group",3,"click"],[1,"del-button"],["name","trash-bin-outline"],[1,"form-group"],[1,"input-contact"],["type","text","inputmode","tel","readonly","",1,"form-control",3,"value"],[1,"delete-contact",3,"ngClass","click"],["name","trash-outline"],[1,"code-error","personal-modal"],[1,"code-error-wrap"],[1,"next-btn","change-phone-btn",3,"click"]],template:function(t,i){1&t&&(e._UZ(0,"app-header"),e.TgZ(1,"ion-content")(2,"div",0),e.YNc(3,I,62,50,"div",1),e.TgZ(4,"ion-modal",2),e.NdJ("willDismiss",function(){return i.closeModal()}),e.YNc(5,B,11,6,"ng-template"),e.qZA(),e.TgZ(6,"div",3)(7,"button",4),e.NdJ("click",function(){return i.logOut()}),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"button",4),e.NdJ("click",function(){return i.deleteProfile()}),e._uU(11),e.ALo(12,"translate"),e.qZA()()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",i.authService.currentUser),e.xp6(1),e.Q6J("isOpen",i.modalupdateuser),e.xp6(4),e.Oqu(e.lcZ(9,4,"\u0412\u044b\u0439\u0442\u0438")),e.xp6(3),e.Oqu(e.lcZ(12,6,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442")))},dependencies:[h.mk,h.sg,h.O5,p.Fj,p.JJ,p.On,c.W2,c.x4,c.gu,c.ki,c.QI,S.E,f.Iq,U.Q,v.X$],styles:["ion-modal[_ngcontent-%COMP%]{--width:calc(100% - 30px);--height: 300px;--border-radius: 8px;--ion-background-color: #1C1A28!important}ion-modal[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%]{--background: auto}ion-modal[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%]::part(.wheel-order-month-first)::part(.picker-highlight){color:#fff;--background: #1C1A28!important}.file-group[_ngcontent-%COMP%]{max-width:112px!important;min-width:112px!important;min-height:85px!important;max-height:85px!important;width:112px!important;height:85px!important}.file-group[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{max-width:112px;min-width:112px;min-height:85px;max-height:85px;width:112px;height:85px;margin-right:10px}.file-group[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:10px;max-width:112px;min-width:112px;min-height:85px;max-height:85px;object-fit:cover;width:112px;height:85px}ion-modal.bottom-end[_ngcontent-%COMP%]{--height: auto}ion-modal.bottom-end[_ngcontent-%COMP%]   .ion-page[_ngcontent-%COMP%]{position:relative;display:block;contain:content}ion-datetime[_ngcontent-%COMP%]{color:#fff!important;--color: white!important;font-weight:700;--background: #1e1c29;--placeholder-color: #0f9;--ion-color-base: white !important;--ion-color-step-150: #0f0c1a}ion-datetime[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#fff!important}.info[_ngcontent-%COMP%]{color:#fff}"]}),o})()}];let Q=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[m.Bz.forChild(Y),m.Bz]}),o})();var j=l(1059),K=l(1456);let H=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[h.ez,p.u5,c.Pc,Q,j.HeaderPageModule,f.Kf,K.h,v.aw]}),o})()}}]);