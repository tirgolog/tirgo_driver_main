"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9069],{9069:(B,S,s)=>{s.r(S),s.d(S,{SupportPageModule:()=>k});var h=s(9808),m=s(3075),c=s(8058),y=s(1216),A=s(7582),e=s(5e3),Z=s(7053);let M=(()=>{class n{static isString(t){return"string"==typeof t||t instanceof String}static caseInsensitiveSort(t,r){return n.isString(t)&&n.isString(r)?t.localeCompare(r):n.defaultCompare(t,r)}static defaultCompare(t,r){return t&&t instanceof Date&&(t=t.getTime()),r&&r instanceof Date&&(r=r.getTime()),t===r?0:null==t?1:null==r?-1:t>r?1:-1}static parseExpression(t){return(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split(".")}static getValue(t,r){for(let o=0,u=r.length;o<u;++o){if(!t)return;const i=r[o];if(!(i in t))return;t="function"==typeof t[i]?t[i]():t[i]}return t}static setValue(t,r,o){let u;for(u=0;u<o.length-1;u++)t=t[o[u]];t[o[u]]=r}transform(t,r,o,u=!1,i){return t&&(Array.isArray(r)?this.multiExpressionTransform(t,r.slice(),o,u,i):Array.isArray(t)?this.sortArray(t.slice(),r,o,u,i):"object"==typeof t?this.transformObject(Object.assign({},t),r,o,u,i):t)}sortArray(t,r,o,u,i){const d=r&&-1!==r.indexOf(".");let a;d&&(r=n.parseExpression(r)),a=i&&"function"==typeof i?i:u?n.caseInsensitiveSort:n.defaultCompare;const p=t.sort((g,f)=>r?d?a(n.getValue(g,r),n.getValue(f,r)):g&&f?a(g[r],f[r]):a(g,f):a(g,f));return o?p.reverse():p}transformObject(t,r,o,u,i){const d=n.parseExpression(r);let a=d.pop(),p=n.getValue(t,d);return Array.isArray(p)||(d.push(a),a=null,p=n.getValue(t,d)),p&&n.setValue(t,this.transform(p,a,o,u),d),t}multiExpressionTransform(t,r,o,u=!1,i){return r.reverse().reduce((d,a)=>this.transform(d,a,o,u,i),t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"orderBy",type:n,pure:!1}),n})(),T=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[M]}),n})();var J=s(2217),v=s(8995);function P(n,l){if(1&n&&(e.ynx(0),e.TgZ(1,"div",15)(2,"p",16),e._uU(3),e.qZA(),e.TgZ(4,"small"),e._uU(5),e.ALo(6,"formatTime"),e.qZA()(),e.BQk()),2&n){const t=l.$implicit;e.xp6(1),e.Q6J("ngClass",t.user_admin_id?"support-message":"user-message"),e.xp6(2),e.Oqu(t.text),e.xp6(2),e.Oqu(e.xi3(6,3,t.date,"DD MMMM YYYY \u0432 HH:mm"))}}const C=[{path:"",component:(()=>{class n{constructor(t,r){this.authService=t,this.navCtrl=r,this.message="",this.disablebuttonsend=!1}ngOnInit(){}back(){this.navCtrl.back()}doRefresh(t){return(0,A.mG)(this,void 0,void 0,function*(){this.authService.messages=yield this.authService.getMessages().toPromise(),setTimeout(()=>{t.target.complete()},1e3)})}sendMessage(){this.disablebuttonsend=!0,this.authService.sendMessage(this.message).toPromise().then(t=>{this.authService.messages.push(t.data),this.disablebuttonsend=!1,this.message=""}).catch(t=>{this.authService.alert("\u0423\u043f\u0441","\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435")})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z.$),e.Y36(c.SH))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-support"]],decls:23,vars:13,consts:[[1,"wrapper-fluid-header"],[1,"logo-wrap","personal-head"],[1,"top-back",3,"click"],["src","assets/img/arrow-left.svg","alt",""],["slot","fixed","pullFactor","1","pullMin","100","pullMax","200",3,"ionRefresh"],["pullingIcon","arrow-dropdown","refreshingSpinner","circles",1,"loadingspinner"],[1,"wrapper-fluid"],[1,"body-have-bottom-menu","ion-padding"],[4,"ngFor","ngForOf"],[1,"bottom-wrap","input-chat-support"],[1,"bottom-menu","support-input"],["type","text",3,"disabled","placeholder","ngModel","ngModelChange"],[3,"disabled","click"],["src","assets/img/arrow-right2.svg","alt",""],[1,"hidden-block-chat"],[3,"ngClass"],[1,"ion-no-margin","ion-no-padding"]],template:function(t,r){1&t&&(e.TgZ(0,"ion-header")(1,"div",0)(2,"div",1)(3,"button",2),e.NdJ("click",function(){return r.back()}),e._UZ(4,"img",3),e.qZA(),e.TgZ(5,"h2"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e._UZ(8,"div"),e.qZA()()(),e.TgZ(9,"ion-content")(10,"ion-refresher",4),e.NdJ("ionRefresh",function(u){return r.doRefresh(u)}),e._UZ(11,"ion-refresher-content",5),e.qZA(),e.TgZ(12,"div",6)(13,"div",7),e.YNc(14,P,7,6,"ng-container",8),e.ALo(15,"orderBy"),e.qZA(),e.TgZ(16,"div",9)(17,"nav",10)(18,"input",11),e.NdJ("ngModelChange",function(u){return r.message=u}),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"button",12),e.NdJ("click",function(){return r.sendMessage()}),e._UZ(21,"img",13),e.qZA()()(),e._UZ(22,"div",14),e.qZA()()),2&t&&(e.xp6(6),e.Oqu(e.lcZ(7,6,"\u0421\u043b\u0443\u0436\u0431\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438")),e.xp6(8),e.Q6J("ngForOf",e.xi3(15,8,r.authService.messages,"created_at")),e.xp6(4),e.s9C("placeholder",e.lcZ(19,11,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f")),e.Q6J("disabled",r.disablebuttonsend)("ngModel",r.message),e.xp6(2),e.Q6J("disabled",r.disablebuttonsend))},dependencies:[h.mk,h.sg,m.Fj,m.JJ,m.On,c.W2,c.Gu,c.nJ,c.Wo,M,J.Q,v.X$]}),n})()}];let F=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[y.Bz.forChild(C),y.Bz]}),n})();var D=s(1456);let k=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.ez,m.u5,c.Pc,F,T,D.h,v.aw]}),n})()}}]);